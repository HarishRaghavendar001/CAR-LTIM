
<div class="cars-container animate__animated animate__fadeIn">
  <div class="content-wrapper container">

    <!-- ===== Top Row: Dates (Left) + Hero (Right) ===== -->
    <section class="booking-card row g-8 mb-4  bg-glass">

      <!-- Left: Date Selection -->
      <div class="col-12 col-md-6 p-3">
        <div class="card bg-white shadow-sm rounded-3 p-3 h-100">
          <form [formGroup]="itemForm" aria-label="Trip date selection">
            <div class="row g-3">
              <div class="col-12 ">
                <label for="rentalStartDate" class="form-label"><i class="fas fa-calendar-plus"></i> Trip Start</label>
                <input type="date" id="rentalStartDate" class="form-control" formControlName="rentalStartDate" required>
              </div>
              <div class="col-12">
                <label for="rentalEndDate" class="form-label"><i class="fas fa-calendar-minus"></i> Trip End</label>
                <input type="date" id="rentalEndDate" class="form-control" formControlName="rentalEndDate" required>
              </div>
              <div class="col-12">
                <button type="button" class="btn btn-primary w-100" [disabled]="!itemForm.valid" (click)="filterCars()">
                  <i class="fas fa-search"></i> Book Date
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>

      <!-- Right: Hero Pane -->
      <div class="col-12 col-md-6 p-3">
        <div class="card bg-glass text-black shadow-sm rounded-3 p-4 d-flex flex-column justify-content-center">
          <h5 class="mb-2 text-white">Plan Your Trip</h5>
          <p class="mb-3">Pick your dates to instantly see vehicles that fit your schedule.</p>
          <ul class="list-unstyled mb-3">
            <li  class="text-white"><i class="fas fa-check-circle text-primary"></i> Real-time availability</li>
            <li  class="text-white"><i class="fas fa-check-circle text-primary"></i> Transparent daily rates</li>
            <li  class="text-white"><i class="fas fa-check-circle text-primary"></i> Easy booking</li>
          </ul>
          <!-- <div class="hero-visual mt-auto">
            <img src="../../assets/CAR.jpg" class="img-fluid rounded-3" alt="Car hero image">
          </div> -->
        </div>
      </div>
          <!-- <div class="col-12 col-md-5 hero-visual mt-auto">
            <img src="../../assets/CAR.jpg" class="img-fluid rounded-3" alt="Car hero image">
          </div> -->

    </section>

    <!-- ===== Search & Filter Row ===== -->
    <section class="find-card card bg-glass shadow-sm rounded-3 p-3 mb-4">
      <form [formGroup]="itemForm" class="row g-3 align-items-end">
        <div class="col-sm-12 col-md-6">
          <label for="searchTerm" class="form-label"><i class="fas fa-search"></i> Search by car name / make / model</label>
          <input id="searchTerm" type="text" class="form-control" placeholder="e.g., Honda, Civic..." formControlName="searchTerm">
        </div>
        <div class="col-sm-12 col-md-4">
          <label for="category" class="form-label"><i class="fas fa-tags"></i> Category</label>
          <select id="category" class="form-control" formControlName="category">
            <option value="all">All categories</option>
            <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
          </select>
        </div>
        <div class="col-sm-12 col-md-2">
          <button type="button" class="btn btn-outline-secondary w-100" (click)="clearSearch()">
            <i class="fas fa-eraser"></i> Clear
          </button>
        </div>
      </form>
    </section>




<section class="cars-grid" *ngIf="filteredCars.length > 0; else noCars">
  <article class="car-card animate__animated animate__fadeIn"
           *ngFor="let car of filteredCars; trackBy: trackByCarId"
           aria-label="Car card">
    <div class="car-details">

      <h3 class="car-title">
        {{ (car.make ?? car.car?.make) }} {{ (car.model ?? car.car?.model) }}
      </h3>

      <div class="car-info">
        <p><i class="fas fa-calendar-day"></i> {{ (car.manufactureYear ?? car.car?.manufactureYear) }}</p>
        <p><i class="fas fa-rupee-sign"></i> {{ (car.rentalRatePerDay ?? car.car?.rentalRatePerDay ?? car.car?.category?.baseRate) }}/day</p>
      </div>

      <div class="status-message" *ngIf="(car.statusMessage ?? car.status)">
        <span class="badge"
              [ngClass]="(car.statusMessage ?? car.status) === 'available' ? 'available' : 'unavailable'">
          {{ (car.statusMessage ?? car.status) }}
        </span>
      </div>

      <button
        class="btn btn-book"
        (click)="bookCar(car.id ?? car.car?.id)"
        [disabled]="!itemForm.valid || (car.statusMessage ?? car.status) !== 'available'"
        [ngClass]="{'btn-disabled': (car.statusMessage ?? car.status) !== 'available'}"
        aria-label="Book this car">
        <i class="fas fa-{{ (car.statusMessage ?? car.status) !== 'available' ? 'lock' : 'check' }}"></i>
        {{ (car.statusMessage ?? car.status) !== 'available' ? 'Unavailable' : 'Book Now' }}
      </button>

    </div>
  </article>
</section>



    

    <!-- ===== No Cars Template ===== -->
    <ng-template #noCars>
      <div class="no-cars-message text-center p-5">
        <i class="fas fa-car-slash fa-3x mb-3"></i>
        <p>No available cars for the selected filters. Try adjusting your dates or search.</p>
      </div>
    </ng-template>

  </div>
</div>

<style>
  .bg-glass {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    color: #fff;
  }
/* 
  .car-card .badge {
    font-size: 0.9rem;
    padding: 0.3rem 0.6rem;
    text-transform: capitalize;
  }

  .cars-grid .car-card {
    transition: transform 0.2s;
  }
  .cars-grid .car-card:hover {
    transform: translateY(-5px);
  } */
.booking-card{
  /* position: relative;
  width: 100vw; */
  /* height: 100vh; */
  /* right: 100px; */
  background-size: cover;
  background-position: center;
  background-repeat:no-repeat;

}
 .car-card {
    transition: transform 0.2s, box-shadow 0.3s;
  }
  .car-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.15);
  }
  .car-info i {
    margin-right: 5px;
  }
  .card-title {
    font-weight: 600;
    font-size: 1.1rem;
  }
  .badge {
    text-transform: capitalize;
    font-size: 0.85rem;
    padding: 0.35rem 0.65rem;
  }
  @media (max-width: 768px) {
    .car-card {
      margin-bottom: 1rem;
    }
  }
  
  .hero-visual img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  @media (max-width: 768px) {
    .booking-card .hero-visual {
      margin-top: 1rem;
    }
  }
</style>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>