

  <body>
    <nav class="navbar">
      <div class="navbar-brand">
        <i class="fas fa-car-alt me-2"></i>
        <span class="ride">CAR</span><span class="on">z</span><span class="ride">Y</span>
      </div>
      <div class="navbar-links">
        <button class="login-button" (click)="navigateToHome()">Home</button>
      </div>
    </nav>
   
    <div class="login-container animate__animated animate__fadeIn">
      <div class="content-wrapper">
        <div class="login-card">
          <div class="card-header">
            <i class="fas fa-user-circle"></i> Create Account
          </div>
          <div class="card-body">
            <form [formGroup]="itemForm" (ngSubmit)="onSubmit()" class="login-form">
             
              <!-- Username -->
              <div class="form-group">
                <label for="username">
                  <i class="fas fa-user"></i> Username
                </label>
                <input
                  id="username"
                  formControlName="username"
                  type="text"
                  class="form-control"
                  placeholder="Choose username"
                />
                <div class="error-message" *ngIf="itemForm.get('username')?.invalid && itemForm.get('username')?.touched">
                  <i class="fas fa-exclamation-circle"></i>
                  <span *ngIf="itemForm.get('username')?.errors?.['required']">Username is required</span>
                  <span *ngIf="itemForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters</span>
                </div>
              </div>
   
              <!-- Email -->
              <div class="form-group">
                <label for="email">
                  <i class="fas fa-envelope"></i> Email
                </label>
                <input
                  id="email"
                  formControlName="email"
                  type="email"
                  class="form-control"
                  placeholder="Enter your email"
                />
                <div class="error-message" *ngIf="itemForm.get('email')?.invalid && itemForm.get('email')?.touched">
                  <i class="fas fa-exclamation-circle"></i>
                  <span *ngIf="itemForm.get('email')?.errors?.['required']">Email is required</span>
                  <span *ngIf="itemForm.get('email')?.errors?.['pattern']">Invalid email format</span>
                </div>
              </div>
   
              <!-- Password -->
              <div class="form-group">
                <label for="password">
                  <i class="fas fa-lock"></i> Password
                </label>
                <input
                  id="password"
                  formControlName="password"
                  type="password"
                  class="form-control"
                  placeholder="Create password"
                  (input)="validatePassword()"
                />
                <div class="error-message" *ngIf="itemForm.get('password')?.invalid && itemForm.get('password')?.touched">
                  <i class="fas fa-exclamation-circle"></i>
                  <span *ngIf="itemForm.get('password')?.errors?.['required']">Password is required</span>
                </div>
   
                <!-- Password Rules -->
                <div *ngIf="itemForm.get('password')?.dirty || itemForm.get('password')?.touched" class="mt-2">
                  <ul class="password-rules">
                    <li [class.valid]="hasLowercase" [class.invalid]="!hasLowercase">
                      <span>{{ hasLowercase ? '✅' : '❌' }}</span> At least one lowercase letter [a-z]
                    </li>
                    <li [class.valid]="hasUppercase" [class.invalid]="!hasUppercase">
                      <span>{{ hasUppercase ? '✅' : '❌' }}</span> At least one uppercase letter [A-Z]
                    </li>
                    <li [class.valid]="hasDigit" [class.invalid]="!hasDigit">
                      <span>{{ hasDigit ? '✅' : '❌' }}</span> At least one digit [0-9]
                    </li>
                    <li [class.valid]="hasSpecialChar" [class.invalid]="!hasSpecialChar">
                      <span>{{ hasSpecialChar ? '✅' : '❌' }}</span> At least one special character [@ $. # ! % * ? & ^]
                    </li>
                    <li [class.valid]="hasMinLength" [class.invalid]="!hasMinLength">
                      <span>{{ hasMinLength ? '✅' : '❌' }}</span> Minimum 8 characters
                    </li>
                  </ul>
                </div>
              </div>
   
              <!-- Role -->
              <div class="form-group">
                <label for="role">
                  <i class="fas fa-user-tag"></i> Role
                </label>
                <select id="role" formControlName="role" class="form-control">
                  <option value="">Select Role</option>
                  <option value="CUSTOMER">Customer</option>
                  <option value="ADMINISTRATOR">Administrator</option>
                  <option value="AGENT">Agent</option>
                </select>
                <div class="error-message" *ngIf="itemForm.get('role')?.invalid && itemForm.get('role')?.touched">
                  <i class="fas fa-exclamation-circle"></i> Role is required
                </div>
              </div>
   
              <!-- Submit -->
              <button type="submit" class="btn btn-login" [disabled]="itemForm.invalid">
                <i class="fas fa-user-plus"></i> Register
              </button>
   
              <div class="register-link">
                Already have an account?
                <a [routerLink]="['/login']" class="btn-register"> Login </a>
              </div>
            </form>
          </div>
        </div>
      </div>
   
      <!-- Success Popup -->
      <div *ngIf="showSuccessPopup" class="success-overlay">
        <div class="success-popup animate__animated animate__fadeInDown">
          <i class="fas fa-check-circle"></i>
          <p>Registration Successful! <br />Redirecting to Login...</p>
        </div>
      </div>
    </div>
  </body>
   
  <footer class="footer">
    <p>© 2025 CARzY Rentals. All rights reserved.</p>
  </footer>
   